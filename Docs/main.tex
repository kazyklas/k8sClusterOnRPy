% arara: pdflatex
% arara: pdflatex
% arara: pdflatex

% options:
% thesis=B bachelor's thesis
% thesis=M master's thesis
% czech thesis in Czech language
% slovak thesis in Slovak language
% english thesis in English language
% hidelinks remove colour boxes around hyperlinks

\documentclass[thesis=B,czech]{FITthesis}[2019/12/23]

\usepackage[utf8]{inputenc} % LaTeX source encoded as UTF-8

\usepackage[T1]{fontenc}

% \usepackage{amsmath} %advanced maths
% \usepackage{amssymb} %additional math symbols

\usepackage{dirtree} %directory tree visualisation

% % list of acronyms
% \usepackage[acronym,nonumberlist,toc,numberedsection=autolabel]{glossaries}
% \iflanguage{czech}{\renewcommand*{\acronymname}{Seznam pou{\v z}it{\' y}ch zkratek}}{}
% \makeglossaries

\newcommand{\tg}{\mathop{\mathrm{tg}}} %cesky tangens
\newcommand{\cotg}{\mathop{\mathrm{cotg}}} %cesky cotangens

% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% ODTUD DAL VSE ZMENTE
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 

\department{Katedra informační bezpečnosti (KIB)}

\title{Kubernetes klastr pro lámání hesel}

\authorGN{Tomáš} %(křestní) jméno (jména) autora

\authorFN{Klas} %příjmení autora

\authorWithDegrees{Tomáš Klas} %jméno autora včetně současných akademických titulů

\author{Tomáš Klas} %jméno autora bez akademických titulů

\supervisor{Ing. Jiří Buček, Ph.D. }

\acknowledgements{Doplňte, máte-li komu a za co děkovat. V~opačném případě úplně odstraňte tento příkaz.}

\abstractCS{Hlavní náplní práce je nakonfigurování klastru pro lámání hesel. Tento klastr je řízen pomocí technologie Kubernetes. Program využívá ke své správné funkcionalitě kontejnery. Tyto kontejnery jsou tzv. Docker kontejnery. Použité technologie jsou v práci detailně popsány a rozebrány. Dále se práce zabývá rešerží ukládání hesel v současných systémech a tím jak hesla vypadají. Na závěr na klastru bude proveden test různých metod pro lámání hesel. Tyto metody budou popsány a bude analyzováno, jak je klastr efektní a výkonný pro daný typ lámání. }

\abstractEN{The main goal of the thesis is to setup a cluster managed by kubernetes for password recovery. Next step is to describe used technologies as Docker, Ansible and Hashcat. Thesis contains description of how the passwords are stored and most known attacks to crack them. Successful deployment and password cracking leads to analyzing speed of the cluster and the particular cracking method. }

\placeForDeclarationOfAuthenticity{V~Praze}
\declarationOfAuthenticityOption{4} %volba Prohlášení (číslo 1-6)

\keywordsCS{Kubernetes, Ansible, klastr, Docker, distribuované lámání, hesla, hashcat, nasazení.}

\keywordsEN{Kubernetes, Ansible, cluster, Docker, distributed cracking, passwords, hashcat, deployment.}

% \website{http://site.example/thesis} %volitelná URL práce, objeví se v tiráži - úplně odstraňte, nemáte-li URL práce

\begin{document}

% \newacronym{CVUT}{{\v C}VUT}{{\v C}esk{\' e} vysok{\' e} u{\v c}en{\' i} technick{\' e} v Praze}
% \newacronym{FIT}{FIT}{Fakulta informa{\v c}n{\' i}ch technologi{\' i}}

\begin{introduction}
	%sem napište úvod Vaší práce
\end{introduction}

\chapter{Cíl práce}

\chapter{Popis použitých technologií}

\input{kubernetes}

\input{ansible}

\input{docker}

\section{Hashcat}

\subsection{Proč použít Hashcat?}

\chapter{Hesla}

Hesla můžeme vidět všude a ne jen v informatice. 
Pokud se podíváme zpět do historie např. do doby velkého Caesara a jeho šifry, ke které je třeba znát číslo, o které se posouvají znaky ve zprávě. 
Jak tedy můžeme vidět, hesla neslouži pouze k naší autentizaci vůči nějaké službě či serveru. 
Může je také použít k podepsání citlivých dokumentů jako je třeba příloha e-mailu. 
Následně pak nemůžeme popřít jeho poslání. Tomuto se říká elektronický podpis. 

Hesla však mají nejednu nevýhodu. Útočník může s naším nebo i bez našeho vědění odhalit naše heslo a tím nám narušit naše soukromý. Hesla mohou také být v systémech, které používáme uložena nepatřičným způsobem, jako je například čistý text bez použití žádných ochranných prostředků. 

Hesla též mohou ze systému uniknout. V tomto případě, pokud byla hesla uložena neptřičným způsobem nemusí se potencionální útočník nějak přemáhat, aby uživatele kompromitoval. Proto se zaměříme na to jak mohou a jak skutečně jsou uložena v nejpoužívanějších systémech. 

\section{Hašovací funkce}

Jsou to takové funkce f: X ® Y, pro něž je snadné z jakékoli hodnoty x Î X vypočítat y = f(x), ale pro náhodně vybraný obraz y Î f(X) nelze v relevatním čase najít její vzor x Î X tak, aby y = f(x).

Přitom víme, že takový vzor existuje nebo jich existuje dokonce velmi mnoho. To kolik jich existuje se odvíjí jakou hašovací funkci použijeme.

\subsection{Vlastnosti hašovací funkce}

Abychom mohli funkci považovat za hašovací, musí mít následující vlastnosti:

\begin{itemize}
    \item jakékoliv množství vstupních dat poskytuje stejně dlouhý výstup (otisk),
    \item malou změnou vstupních dat dosáhneme velké změny na výstupu,
    \item z hashe je prakticky nemožné rekonstruovat původní text zprávy,
    \item v praxi je vysoce nepravděpodobné, že dvěma různým zprávám odpovídá stejný hash, jinými slovy pomocí hashe lze v praxi identifikovat právě jednu zprávu (ověřit její správnost).
\end{itemize}

%TODO narozeninovy paradox a projit si prezentace na bezpecnost o hashich

\subsection{Naorzeninový paradox}

\section{Formáty ukládání}

\subsection{Windows}

Windows se chovají jinak v doméně a jinak mimo ní. Pokud je počítač v doméně je preferován autentizační protokol kerberos. V současných Windows Server edicích je implementován Kerberos verze 5. Kerberos v základní nastavenim operuje na portu 88 a k šifrování používá symetrickou šifru. 
Pokud počítač není nastaven aby se autentikoval pomocí protokolu Kerberos používají Windows šifrování NTLM.

\subsection{Linux}

Hesla v linuxových systémech se skládají ze dvou konkretních souborů. 

/etc/shadow - obsah a strukturu toho souboru můžeme vidět na následujícím obrázku. 

% TODO Pictore of the structure  

/etc/passwd - obsah a strukturu tohoto souboru můžeme vidět na následujícím obrázku.

% TODO Pictore of the structure 

V /etc/shadow jsou hesla uložená pomocí hashe. 

\subsection{MacOS}

%TODO MacOS password handling

\section{Útoky na hesla}

\subsection{Hrubou silou}

\subsection{Pomocí masky}

\subsection{Se slovníkem}

\section{Entropie hesla}

\section{Ochrana před různými útoky}

\chapter{Realizace}

\section{Nasazení}

\section{Spuštění s různými metodami útoku}

\chapter{Analýza rychlosti}

\section{Hrubou silou}

\section{Pomocí masky}

\section{Se slovníkem}

\chapter{Závěr}
\cite{merkel2014docker}
test
	%sem napište závěr Vaší práce

% TODO get csns690
%\bibliographystyle{csn690}
\bibliographystyle{ieeetr}

\bibliography{mybibliographyfile}

\appendix

\chapter{Seznam použitých zkratek}
% \printglossaries
\begin{description}
	\item[GUI] Graphical user interface
	\item[XML] Extensible markup language
\end{description}



\chapter{Obsah přiloženého CD}

%upravte podle skutecnosti

\begin{figure}
	\dirtree{%
		.1 readme.txt\DTcomment{stručný popis obsahu CD}.
		.1 exe\DTcomment{adresář se spustitelnou formou implementace}.
		.1 src.
		.2 impl\DTcomment{zdrojové kódy implementace}.
		.2 thesis\DTcomment{zdrojová forma práce ve formátu \LaTeX{}}.
		.1 text\DTcomment{text práce}.
		.2 thesis.pdf\DTcomment{text práce ve formátu PDF}.
		.2 thesis.ps\DTcomment{text práce ve formátu PS}.
	}
\end{figure}

\end{document}

